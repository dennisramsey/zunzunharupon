{"version":3,"file":"index.es.js","sources":["../src/constants.ts","../src/createHeadingPlugin.ts"],"sourcesContent":["export const ELEMENT_H1 = 'h1';\nexport const ELEMENT_H2 = 'h2';\nexport const ELEMENT_H3 = 'h3';\nexport const ELEMENT_H4 = 'h4';\nexport const ELEMENT_H5 = 'h5';\nexport const ELEMENT_H6 = 'h6';\n\nexport const KEYS_HEADING = [\n  ELEMENT_H1,\n  ELEMENT_H2,\n  ELEMENT_H3,\n  ELEMENT_H4,\n  ELEMENT_H5,\n  ELEMENT_H6,\n];\n","import {\n  createPluginFactory,\n  onKeyDownToggleElement,\n  PlatePlugin,\n} from '@udecode/plate-common';\n\nimport { KEYS_HEADING } from './constants';\nimport { HeadingPlugin, HeadingsPlugin } from './types';\n\n/**\n * Enables support for headings with configurable levels\n * (from 1 to 6).\n */\nexport const createHeadingPlugin = createPluginFactory<HeadingsPlugin>({\n  key: 'heading',\n  options: {\n    levels: 6,\n  },\n  then: (editor, { options: { levels } = {} }) => {\n    const plugins: PlatePlugin<HeadingPlugin>[] = [];\n\n    for (let level = 1; level <= levels!; level++) {\n      const key = KEYS_HEADING[level - 1];\n\n      const plugin: PlatePlugin<HeadingPlugin> = {\n        key,\n        isElement: true,\n        deserializeHtml: {\n          rules: [\n            {\n              validNodeName: `H${level}`,\n            },\n          ],\n        },\n        handlers: {\n          onKeyDown: onKeyDownToggleElement,\n        },\n        options: {},\n      };\n\n      if (level < 4) {\n        plugin.options!.hotkey = [`mod+opt+${level}`, `mod+shift+${level}`];\n      }\n\n      plugins.push(plugin);\n    }\n\n    return {\n      plugins,\n    };\n  },\n});\n"],"names":["ELEMENT_H1","ELEMENT_H2","ELEMENT_H3","ELEMENT_H4","ELEMENT_H5","ELEMENT_H6","KEYS_HEADING","createHeadingPlugin","createPluginFactory","key","options","levels","then","editor","plugins","level","plugin","isElement","deserializeHtml","rules","validNodeName","handlers","onKeyDown","onKeyDownToggleElement","hotkey","push"],"mappings":";;AAAO,MAAMA,UAAU,GAAG,KAAI;AACvB,MAAMC,UAAU,GAAG,KAAI;AACvB,MAAMC,UAAU,GAAG,KAAI;AACvB,MAAMC,UAAU,GAAG,KAAI;AACvB,MAAMC,UAAU,GAAG,KAAI;AACvB,MAAMC,UAAU,GAAG,KAAI;AAEjBC,MAAAA,YAAY,GAAG,CAC1BN,UAAU,EACVC,UAAU,EACVC,UAAU,EACVC,UAAU,EACVC,UAAU,EACVC,UAAU;;ACJZ;AACA;AACA;AACA;AACaE,MAAAA,mBAAmB,GAAGC,mBAAmB,CAAiB;AACrEC,EAAAA,GAAG,EAAE,SAAS;AACdC,EAAAA,OAAO,EAAE;AACPC,IAAAA,MAAM,EAAE,CAAA;GACT;EACDC,IAAI,EAAEA,CAACC,MAAM,EAAE;AAAEH,IAAAA,OAAO,EAAE;AAAEC,MAAAA,MAAAA;AAAO,KAAC,GAAG,EAAC;AAAE,GAAC,KAAK;IAC9C,MAAMG,OAAqC,GAAG,EAAE,CAAA;IAEhD,KAAK,IAAIC,KAAK,GAAG,CAAC,EAAEA,KAAK,IAAIJ,MAAO,EAAEI,KAAK,EAAE,EAAE;AAC7C,MAAA,MAAMN,GAAG,GAAGH,YAAY,CAACS,KAAK,GAAG,CAAC,CAAC,CAAA;AAEnC,MAAA,MAAMC,MAAkC,GAAG;QACzCP,GAAG;AACHQ,QAAAA,SAAS,EAAE,IAAI;AACfC,QAAAA,eAAe,EAAE;AACfC,UAAAA,KAAK,EAAE,CACL;YACEC,aAAa,EAAG,IAAGL,KAAM,CAAA,CAAA;WAC1B,CAAA;SAEJ;AACDM,QAAAA,QAAQ,EAAE;AACRC,UAAAA,SAAS,EAAEC,sBAAAA;SACZ;AACDb,QAAAA,OAAO,EAAE,EAAC;OACX,CAAA;MAED,IAAIK,KAAK,GAAG,CAAC,EAAE;AACbC,QAAAA,MAAM,CAACN,OAAO,CAAEc,MAAM,GAAG,CAAE,CAAUT,QAAAA,EAAAA,KAAM,CAAC,CAAA,EAAG,CAAYA,UAAAA,EAAAA,KAAM,EAAC,CAAC,CAAA;AACrE,OAAA;AAEAD,MAAAA,OAAO,CAACW,IAAI,CAACT,MAAM,CAAC,CAAA;AACtB,KAAA;IAEA,OAAO;AACLF,MAAAA,OAAAA;KACD,CAAA;AACH,GAAA;AACF,CAAC;;;;"}
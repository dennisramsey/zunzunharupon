{"version":3,"file":"index.es.js","sources":["../src/createBoldPlugin.ts","../src/createCodePlugin.ts","../src/createItalicPlugin.ts","../src/createStrikethroughPlugin.ts","../src/createSubscriptPlugin.ts","../src/createSuperscriptPlugin.ts","../src/createUnderlinePlugin.ts","../src/createBasicMarksPlugin.ts"],"sourcesContent":["import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  someHtmlElement,\n  ToggleMarkPlugin,\n} from '@udecode/plate-common';\n\nexport const MARK_BOLD = 'bold';\n\n/**\n * Enables support for bold formatting\n */\nexport const createBoldPlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_BOLD,\n  isLeaf: true,\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['STRONG', 'B'] },\n      {\n        validStyle: {\n          fontWeight: ['600', '700', 'bold'],\n        },\n      },\n    ],\n    query: (el) =>\n      !someHtmlElement(el, (node) => node.style.fontWeight === 'normal'),\n  },\n\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+b',\n  },\n});\n","import {\n  createPluginFactory,\n  findHtmlParentElement,\n  onKeyDownToggleMark,\n  ToggleMarkPlugin,\n} from '@udecode/plate-common';\n\nexport const MARK_CODE = 'code';\n\n/**\n * Enables support for code formatting\n */\nexport const createCodePlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_CODE,\n  isLeaf: true,\n  deserializeHtml: {\n    rules: [\n      {\n        validNodeName: ['CODE'],\n      },\n      {\n        validStyle: {\n          fontFamily: 'Consolas',\n        },\n      },\n    ],\n    query(el) {\n      const blockAbove = findHtmlParentElement(el, 'P');\n      if (blockAbove?.style.fontFamily === 'Consolas') return false;\n\n      return !findHtmlParentElement(el, 'PRE');\n    },\n  },\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+e',\n  },\n});\n","import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  someHtmlElement,\n  ToggleMarkPlugin,\n} from '@udecode/plate-common';\n\nexport const MARK_ITALIC = 'italic';\n\n/**\n * Enables support for italic formatting.\n */\nexport const createItalicPlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_ITALIC,\n  isLeaf: true,\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+i',\n  },\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['EM', 'I'] },\n      {\n        validStyle: {\n          fontStyle: 'italic',\n        },\n      },\n    ],\n    query: (el) =>\n      !someHtmlElement(el, (node) => node.style.fontStyle === 'normal'),\n  },\n});\n","import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  someHtmlElement,\n  ToggleMarkPlugin,\n} from '@udecode/plate-common';\n\nexport const MARK_STRIKETHROUGH = 'strikethrough';\n\n/**\n * Enables support for strikethrough formatting.\n */\nexport const createStrikethroughPlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_STRIKETHROUGH,\n  isLeaf: true,\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+shift+x',\n  },\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['S', 'DEL', 'STRIKE'] },\n      {\n        validStyle: {\n          textDecoration: 'line-through',\n        },\n      },\n    ],\n    query: (el) =>\n      !someHtmlElement(el, (node) => node.style.textDecoration === 'none'),\n  },\n});\n","import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  ToggleMarkPlugin,\n} from '@udecode/plate-common';\n\nexport const MARK_SUBSCRIPT = 'subscript';\nconst MARK_SUPERSCRIPT = 'superscript';\n\n/**\n * Enables support for subscript formatting.\n */\nexport const createSubscriptPlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_SUBSCRIPT,\n  isLeaf: true,\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+,',\n    clear: MARK_SUPERSCRIPT,\n  },\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['SUB'] },\n      {\n        validStyle: {\n          verticalAlign: 'sub',\n        },\n      },\n    ],\n  },\n});\n","import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  ToggleMarkPlugin,\n} from '@udecode/plate-common';\n\nexport const MARK_SUPERSCRIPT = 'superscript';\nconst MARK_SUBSCRIPT = 'subscript';\n\n/**\n * Enables support for superscript formatting.\n */\nexport const createSuperscriptPlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_SUPERSCRIPT,\n  isLeaf: true,\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+.',\n    clear: MARK_SUBSCRIPT,\n  },\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['SUP'] },\n      {\n        validStyle: {\n          verticalAlign: 'super',\n        },\n      },\n    ],\n  },\n});\n","import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  someHtmlElement,\n  ToggleMarkPlugin,\n} from '@udecode/plate-common';\n\nexport const MARK_UNDERLINE = 'underline';\n\n/**\n * Enables support for underline formatting.\n */\nexport const createUnderlinePlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_UNDERLINE,\n  isLeaf: true,\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+u',\n  },\n  deserializeHtml: {\n    rules: [\n      {\n        validNodeName: ['U'],\n      },\n      {\n        validStyle: {\n          textDecoration: ['underline'],\n        },\n      },\n    ],\n    query: (el) =>\n      !someHtmlElement(el, (node) => node.style.textDecoration === 'none'),\n  },\n});\n","import { createPluginFactory } from '@udecode/plate-common';\n\nimport { createBoldPlugin } from './createBoldPlugin';\nimport { createCodePlugin } from './createCodePlugin';\nimport { createItalicPlugin } from './createItalicPlugin';\nimport { createStrikethroughPlugin } from './createStrikethroughPlugin';\nimport { createSubscriptPlugin } from './createSubscriptPlugin';\nimport { createSuperscriptPlugin } from './createSuperscriptPlugin';\nimport { createUnderlinePlugin } from './createUnderlinePlugin';\n\n/**\n * Enables support for basic marks:\n * - Bold\n * - Code\n * - Italic\n * - Strikethrough\n * - Subscript\n * - Superscript\n * - Underline\n */\nexport const createBasicMarksPlugin = createPluginFactory({\n  key: 'basicMarks',\n  plugins: [\n    createBoldPlugin(),\n    createCodePlugin(),\n    createItalicPlugin(),\n    createStrikethroughPlugin(),\n    createSubscriptPlugin(),\n    createSuperscriptPlugin(),\n    createUnderlinePlugin(),\n  ],\n});\n"],"names":["MARK_BOLD","createBoldPlugin","createPluginFactory","key","isLeaf","deserializeHtml","rules","validNodeName","validStyle","fontWeight","query","el","someHtmlElement","node","style","handlers","onKeyDown","onKeyDownToggleMark","options","hotkey","MARK_CODE","createCodePlugin","fontFamily","blockAbove","findHtmlParentElement","MARK_ITALIC","createItalicPlugin","fontStyle","MARK_STRIKETHROUGH","createStrikethroughPlugin","textDecoration","MARK_SUBSCRIPT","MARK_SUPERSCRIPT","createSubscriptPlugin","clear","verticalAlign","createSuperscriptPlugin","MARK_UNDERLINE","createUnderlinePlugin","createBasicMarksPlugin","plugins"],"mappings":"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"}